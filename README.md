# Сайт игр по медиабезопасности для образовательных организаций

Лендинг с бэкендом для презентации услуг по проведению игровых занятий и тренингов по медиабезопасности и медиаграмотности для школ, колледжей и вузов.

## Структура

- `index.html` — основная страница с описанием форматов, целевой аудитории, тем и процесса работы.
- `styles.css` — стили в современном тёмном/нейтральном оформлении.
- `script.js` — логика формы заявки с отправкой данных на сервер.
- `server.js` — Express сервер с API для сохранения заявок.
- `init-db.js` — скрипт для инициализации базы данных SQLite.
- `package.json` — зависимости проекта.

## Установка и запуск

### 1. Установка зависимостей

Убедитесь, что у вас установлен Node.js (версия 14 или выше). Затем установите зависимости:

```bash
cd /Users/sanchez/site
npm install
```

### 2. Инициализация базы данных

Создайте базу данных и таблицу для хранения заявок:

```bash
npm run init-db
```

Это создаст файл `database.db` в корне проекта.

### 3. Запуск сервера

```bash
npm start
```

Сервер запустится на `http://localhost:3000`. Откройте этот адрес в браузере.

## API Endpoints

### POST `/api/requests`
Сохраняет новую заявку в базу данных.

**Тело запроса (JSON):**
```json
{
  "orgType": "school",
  "orgName": "ГБОУ Школа №123",
  "city": "Москва",
  "participants": 60,
  "age": "10-11",
  "preferredFormat": "quest",
  "date": "март 2026",
  "contact": "Иванов Иван Иванович",
  "email": "ivanov@school.ru",
  "comment": "Провести игру для 10-11 классов"
}
```

**Ответ при успехе:**
```json
{
  "success": true,
  "message": "Заявка успешно отправлена! Мы свяжемся с вами в ближайшее время.",
  "id": 1
}
```

### GET `/api/requests`
Получает список последних 100 заявок (для администратора).

**Ответ:**
```json
{
  "success": true,
  "data": [...]
}
```

## База данных

Используется SQLite (`database.db`). Таблица `requests` содержит следующие поля:
- `id` — уникальный идентификатор
- `org_type` — тип организации
- `org_name` — название организации (обязательное поле)
- `city` — город/регион
- `participants` — количество участников
- `age_group` — возрастная группа
- `preferred_format` — предпочитаемый формат
- `preferred_date` — желаемый период проведения
- `contact_person` — контактное лицо
- `email` — электронная почта
- `comment` — комментарий
- `created_at` — дата и время создания заявки

## Примечания

- База данных хранится локально в файле `database.db`
- Для продакшена рекомендуется добавить авторизацию для просмотра заявок
- Можно настроить переменную окружения `PORT` для изменения порта сервера

